Generated by Claude based on plan.md. It is still important to read plan.md to understand the vision.

Development Plan for Console-Based Study Game
Phase 1: Core Foundation
1.1 Flashcard System
Priority: HIGH (This is the core educational component)

Card Data Structure

Card class with: question, answer, status (new/learning/review), correct_count, incorrect_count, last_reviewed
Card status transition logic (new → learning → review, and regression)
Thresholds for status changes (e.g., 3 correct → move up, 2 incorrect → move down)

Deck Management

Load cards from file (JSON/CSV format)
Shuffle and select cards based on status distribution
Track card statistics throughout game session

Question-Answer Flow

Display question to user
Accept and validate user input
Check correctness (case-insensitive, trimmed whitespace)
Update card status and statistics
Return outcome (correct/incorrect + card status) for game integration

1.2 Game State Management
Priority: HIGH

Player State

Name, health/HP, money/currency, inventory (items)
Party members (if implementing team system)
Current location in story

Save/Load System

Serialize game state to file
Load previous game state
Track card progress across sessions

Phase 2: Battle System
2.1 Combat Mechanics
Priority: HIGH

Battle Structure

Turn-based system with player and enemy
Enemy class: name, HP, attack damage, defense
Player actions: Attack, Defend, Use Item, Give Up

Combat Flow

Initialize battle with enemy
Player chooses action
Flashcard integration: Before attack, ask a flashcard question

Correct answer → enhanced attack or extra turn
Incorrect answer → reduced damage or enemy counter-attack
Severity based on card status (new/learning = lenient, review = harsh)

Enemy turn (simple AI: random or HP-based decision)
Check win/loss conditions
Award rewards (money, items, experience)

Balance Mechanics

Defend action reduces incoming damage
Items: healing item, attack boosts, defensive items
Escape/Give Up option (with consequences)

Phase 3: Story Generation
3.1 Story Template System
Priority: MEDIUM

Story Configuration

Template variables: [Bad Thing], [Antagonist], [Final Location], [Antagonist Organization]
Generate randomized story elements from predefined lists
User input for name and story length preference (short/medium/long)

Location Data Structure

Location class: name, description, type (road/town/city)
Associated NPCs, shops, enemies
Requirements to progress (defeat boss, collect item, recruit ally)

Story Graph/Path

Linear progression through locations: Start → Place 1 → Road → Place 2 → ... → Final Location
Track current location and completion status
Unlock next location when requirements met

3.2 Random Events (Oregon Trail Style)
Priority: LOW (Implement after core story works)

Event Types

Encounters (friendly NPC, merchant, ambush)
Environmental hazards (weather, terrain)
Opportunities (treasure, shortcuts)

Event Triggering

Random chance when traveling roads
Flashcard question determines outcome severity
Events modify player state (HP, items, money)

Phase 4: Story Progression & Interaction
4.1 Game Loop
Priority: HIGH

Main Menu

New Game
Load Game
Deck Management (view/import cards)
Exit

Story Mode Loop

Display current location narrative
Present available actions:

"Proceed" (advance story)
"Shop" (if available at location)
"Status" (view party, inventory, stats)
"Save Game"
"Rest" (restore HP, with time/cost)

Action Resolution

User selects action
Execute action (trigger battle, shop, etc.)
Periodic flashcard questions during travel/exploration
Update game state
Check location completion requirements

4.2 Narrative Display
Priority: MEDIUM

Text Output System

Clear, formatted console output
Typewriter effect (optional, for immersion)
Color coding (if using libraries like colorama)
ASCII art for key moments (battles, locations)

Phase 5: Shop System
5.1 Shop Mechanics
Priority: MEDIUM

Shop Implementation

Location-specific shops (healing items in towns, weapons in cities)
Item class: name, description, effect, price
Buy/Sell interface
Inventory management

Shop Integration with Flashcards

Optional: Answer flashcard to get discount
Correct answer → price reduction
Incorrect → no discount or slight price increase

Phase 6: Polish & Extended Features
6.1 Required Enhancements

Error Handling: Invalid inputs, file I/O errors
Input Validation: Ensure user inputs are within expected ranges
Help System: In-game help/tutorial
Balance Testing: Ensure difficulty curve is appropriate

6.2 Optional Enhancements (Future)

Party System: Recruit allies with unique abilities
Card Review Session: Dedicated study mode outside story
Statistics Dashboard: Track learning progress, win/loss ratios
Multiple Story Templates: Different genres/themes
Difficulty Settings: Adjust battle difficulty and flashcard frequency

Implementation Order Recommendation

Phase 1.1: Flashcard System (foundation)
Phase 1.2: Basic Game State Management
Phase 2.1: Battle System with Flashcard Integration
Phase 3.1: Simple Story Template (linear path)
Phase 4.1: Game Loop & Story Progression
Phase 5.1: Shop System
Phase 4.2: Narrative Polish
Phase 3.2: Random Events
Phase 6: Polish and Testing

This order prioritizes getting a playable vertical slice (flashcards → battles → simple story) before expanding features.
